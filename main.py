import telebot
import os
import random

# Замени 'TOKEN' на токен твоего бота
bot = telebot.TeleBot("7808813003:AAHwxaDYLW4NFEwu9tMo3o5TG8mgplO6gOY")

@bot.message_handler(commands=['start'])
def send_welcome(message):
    bot.reply_to(message, 
                 "Привет! 👋 Я твой Telegram бот-лесник! 🌳🔥 Я умею такие команды как:\n"
                 "/rules 📋 - Выдает правила поведения на отдыхе в лесу. В общем рассказывая как не стать причиной пожара 🚫🔥;\n"
                 "/reasons 🤔 - Рассказывает о основных причинах образования пожара 🔍🌲;\n"
                 "/list 📜 - Выдает список команд которые рассказывают, что делать при определенном случае 🆘👨‍🚒;\n"
                 "/mem 😄 - Выдает случайный поучительный мем по теме - Лесные пожары 📱🔥;\n"
                 "/map 🗺️ - Выдают ссылку на сайт на котором показана актуальная карта лесных пожаров 🔥🌲📊;\n"
                 "/evacuation 🚨🎒 - Инструкция по эвакуации: что взять с собой 📄💊🥫🔦, куда звонить 📞👨‍🚒, как действовать 🗺️👣;\n"
                 "/smoke_protechtion 😷🌫️ - Правила защиты от задымления для астматиков 🤒, детей 👶, пожилих людей 👵👴;\n"
                 "/report_fire 🚨📞 - Инструкция: Как правильно сообщить о пожаре. 👨‍🚒🔥📱.\n")
 
@bot.message_handler(commands=['map'])
def send_map(message):
    bot.reply_to(message, 
                 "Вот сайт 🌐 на котором показанна актуальная карта 🗺️ лесных пожаров по России:\n"
                 "https://www.lpcentr.ru/index.php?option=com_content&view=article&id=100&Itemid=84")

@bot.message_handler(commands=['report_fire'])
def send_report(message):
    bot.reply_to(message,
        "🚨 <b>ИНСТРУКЦИЯ: КАК ПРАВИЛЬНО СООБЩИТЬ О ПОЖАРЕ</b>\n\n"
        "🧘 <b>Главное правило:</b> Сохраняйте спокойствие! Четкая информация спасает жизни.\n\n"
        
        "📞 <b>1. КУДА ЗВОНИТЬ:</b>\n"
        "• <b>101</b> или <b>112</b> — с мобильного 📱\n"
        "• <b>01</b> или <b>112</b> — со стационарного телефона 📞\n"
        "• Для слабослышащих: <b>101</b> (SMS) ✉️\n\n"
        
        "🗣️ <b>2. ЧТО СКАЗАТЬ ДИСПЕТЧЕРУ:</b>\n"
        "• <b>Адрес:</b> куда ехать? 🏢📮\n"
        "• <b>Что горит?</b> квартира/лес/машина 🏠🌲🚗\n"
        "• <b>Есть ли люди?</b> 👨‍👩‍👧‍👦\n"
        "• <b>Ваше имя</b> и телефон для связи 📛📱\n\n"
        
        "📱 <b>3. ЧТО ЕЩЕ ВАЖНО:</b>\n"
        "• <b>Не вешайте трубку первым!</b> 📞❌\n"
        "• <b>Киньте геолокацию</b> если возможно 📍\n"
        "• Опишите <b>ориентиры</b> и <b>препятствия</b> 🚧\n"
        "• Уточните <b>что горит</b> (мебель/газ/деревья) 🔥\n\n"
        
        "🌲 <b>4. ЕСЛИ ПОЖАР В ЛЕСУ:</b>\n"
        "• Назовите <b>ближайший населенный пункт</b> 🏘️\n"
        "• Укажите <b>ориентиры</b> (река, дорога, ЛЭП) 🛣️⚡\n"
        "• <b>Оцените масштаб</b> (примерная площадь) 📏\n"
        "• <b>ИДЕАЛЬНО:</b> скиньте координаты GPS 📍\n\n"
        
        "🚫 <b>5. ЧЕГО НЕЛЬЗЯ ДЕЛАТЬ:</b>\n"
        "• <b>НЕ паниковать</b> и не кричать в трубку 😱📞\n"
        "• <b>НЕ шутить</b> и не делать ложных вызовов 🃏❌\n"
        "• <b>НЕ переоценивать свои силы</b> 💪🚷\n"
        "• <b>НЕ вешать трубку</b> без разрешения диспетчера 📞⏸️\n\n"
        "💡 <b>Помните:</b> Ваш звонок может остановить большую беду! Не проходите мимо! ❤️👨‍🚒",
        parse_mode='HTML'
    )

@bot.message_handler(commands=['smoke_protechtion'])
def send_smoke(message):
    bot.reply_to(message,
        "😷 <b>ЗАЩИТА ОТ ЗАДЫМЛЕНИЯ ДЛЯ АСТМАТИКОВ, ДЕТЕЙ И ПОЖИЛЫХ</b>\n\n"
        "⚠️ <b>Главное правило:</b> Эти группы наиболее уязвимы! Требуется особая защита.\n\n"
        
        "🌬️ <b>ОБЩИЕ ПРАВИЛА ДЛЯ ВСЕХ:</b>\n"
        "• Оставайтесь в помещении 🏠\n"
        "• Закройте окна влажными простынями 💧\n"
        "• Включите очистители воздуха с HEPA-фильтрами 💨\n"
        "• Пейте 2-3 литра воды в день 🫙\n"
        "• Промывайте нос и глаза физраствором 👃👀\n"
        "• Избегайте физических нагрузок 🚷\n\n"
        
        "👶 <b>ОСОБАЯ ЗАЩИТА ДЛЯ ДЕТЕЙ:</b>\n"
        "• Полностью отмените прогулки 🚼\n"
        "• Организуйте домашние игры 📚🎲\n"
        "• Используйте увлажнитель воздуха 💦\n"
        "• При кашле или одышке — срочно к врачу! 👨‍⚕️\n\n"
        
        "🤧 <b>ДЛЯ АСТМАТИКОВ:</b>\n"
        "• Всегда носите с собой ингалятор 💊\n"
        "• Используйте респираторы FFP2/N95 😷\n"
        "• Избегайте резких запахов и химии 🚭\n"
        "• При ухудшении — НЕМЕДЛЕННО к врачу! 🚑\n\n"
        
        "👵 <b>ДЛЯ ПОЖИЛЫХ ЛЮДЕЙ:</b>\n"
        "• Помогите герметизировать помещение 🛡️\n"
        "• Контролируйте прием сердечных препаратов ❤️\n"
        "• Обеспечьте питательную диету и питье 🍲\n"
        "• Исключите выходы на улицу 🚫\n\n"
        
        "🚨 <b>КОГДА СРОЧНО ОБРАЩАТЬСЯ К ВРАЧУ:</b>\n"
        "• Затрудненное дыхание в покое 😫\n"
        "• Боль в груди, сильный кашель 🤒\n"
        "• Учащенное сердцебиение 💓\n"
        "• Головокружение, спутанность сознания 🥴\n\n"
        "💡 <b>Помните:</b> Здоровье важнее всего! Не недооценивайте опасность задымления.",
        parse_mode='HTML'
    )

@bot.message_handler(commands=['rules'])
def send_rules(message):
    bot.reply_to(message, 
        "🌳 <b>ПРАВИЛА ОТДЫХА В ЛЕСУ: КАК НЕ СТАТЬ ПРИЧИНОЙ ПОЖАРА</b>\n\n"
        "✅ <b>Главное правило:</b> Ваша ответственность — залог сохранения леса!\n\n"
        
        "🔥 <b>1. Разведение костра (если разрешено):</b>\n"
        "• <i>Место:</i> старое кострище, песчаная/галечная коса, открытая поляна\n"
        "• <i>Защита:</i> окопайте, обложите камнями\n"
        "• <i>Подготовка:</i> держите воду и лопату наготове 💦\n"
        "• <b>НИКОГДА не оставляйте огонь без присмотра!</b>\n\n"
        
        "🚫 <b>2. Что категорически НЕЛЬЗЯ:</b>\n"
        "• Бросать окурки и спички 🚬\n"
        "• Выжигать сухую траву\n"
        "• Использовать пиротехнику 🧨\n"
        "• Оставлять промасленные материалы\n\n"
        
        "🍖 <b>3. Приготовление пищи:</b>\n"
        "• Используйте мангал — это безопаснее\n"
        "• Следите за искрами от углей в ветреную погоду 💨\n\n"
        
        "🧹 <b>4. Уборка перед уходом (ОБЯЗАТЕЛЬНО!):</b>\n"
        "• <b>Потушите костер до ХОЛОДНОГО состояния:</b>\n"
        "   - Залейте водой 💦\n"
        "   - Перемешайте палкой/лопатой\n"
        "   - Проверьте рукой (осторожно!)\n"
        "• <b>Заберите весь мусор с собой</b> (не закапывайте!)\n"
        "• Стекло, пластик, банки — всё должно уехать с вами 🗑️\n\n"
        
        "📋 <b>5. Общие правила:</b>\n"
        "• Узнайте о противопожарном режиме 📢\n"
        "• Научите правилам детей и друзей\n"
        "• Напомните нарушителям о безопасности\n\n"
        
        "🌲 <b>Помните:</b> 9 из 10 пожаров — по вине человека.\n"
        "<i>Отдохнули сами — сохраните природу для других!</i> ❤️",
        parse_mode='HTML'
    )

@bot.message_handler(commands=['reasons'])
def send_reasons(message):
    bot.reply_to(message, 
        "🔥 <b>От чего возникают лесные пожары?</b>\n\n"
        "Практически всегда у пожара есть конкретная причина. Вот главные из них:\n\n"
        
        "👤 <b>По вине человека (90% случаев):</b>\n"
        "• <b>Непотушенный костер</b> 🏕️ — самая частая причина! Угли тлеют часами.\n"
        "• <b>Брошенный окурок или спичка</b> 🚬 — в сухую погоду этого достаточно.\n"
        "• <b>Выжигание травы</b> 🌾 — огонь с поля легко перекидывается на лес.\n"
        "• <b>Сжигание мусора</b> 🗑️ у леса — ветер может разнести искры.\n"
        "• <b>Разбитое стекло</b> 🍾 — работает как линза на солнце.\n"
        "• <b>Техника</b> 🚗 — искры из выхлопной трубы.\n"
        "• <b>Умышленные поджоги</b> — к сожалению, такое тоже бывает.\n\n"
        
        "🌩️ <b>Природные причины (менее 10%):</b>\n"
        "• <b>Удар молнии</b> ⚡ — особенно во время 'сухих' гроз без дождя.\n"
        "• <b>Самовозгорание</b> — очень редко, в экстремальную жару.\n\n"
        
        "💨 <b>Что помогает огню распространяться:</b>\n"
        "• <b>Сухая погода</b> ☀️ и <b>сильный ветер</b> 💨\n"
        "• <b>Захламленность леса</b> — валежник, сухая трава\n"
        "• <b>Хвойные леса</b> — горят лучше из-за смолы\n\n"
        
        "⚠️ <b>Вывод:</b> Почти каждый пожар можно было предотвратить. \n"
        "<i>Будьте осторожны с огнем в лесу! Ваша минутная небрежность может уничтожить гектары леса.</i> 🌲😢",
        parse_mode='HTML'
    )

@bot.message_handler(commands=['evacuation'])
def send_evacuation(message):
    bot.reply_to(message, 
        "🚨 <b>ИНСТРУКЦИЯ ПО ЭВАКУАЦИИ ПРИ ЛЕСНОМ ПОЖАРЕ</b>\n\n"
        "⏰ <b>Главное правило:</b> Эвакуируйтесь немедленно по первому сигналу!\n\n"
        
        "📞 <b>1. КУДА ЗВОНИТЬ:</b>\n"
        "• <b>101</b> или <b>112</b> — сообщите о начале эвакуации\n"
        "• Уточните количество людей и местоположение 📍\n"
        "• Спросите безопасное направление для выезда 🛣️\n"
        "• Оповестите соседей и родственников 📢\n\n"
        
        "🎒 <b>2. ЧТО ВЗЯТЬ С СОБОЙ (тревожный чемоданчик):</b>\n"
        "• <b>Документы:</b> паспорта 🪪, деньги 💰\n"
        "• <b>Аптечка:</b> лекарства 💊, бинты, средства от ожогов\n"
        "• <b>Еда/вода:</b> вода 🫙, консервы, шоколад 🍫\n"
        "• <b>Техника:</b> телефон 📱, powerbank, фонарик 🔦\n"
        "• <b>Защита:</b> маски 😷, влажные салфетки\n"
        "• <b>Для детей:</b> питание 👶, подгузники\n"
        "• <b>Для животных:</b> корм 🐕, поводок\n\n"
        
        "🚗 <b>3. КАК ДЕЙСТВОВАТЬ:</b>\n"
        "• Оденьтесь в плотную одежду 👕👟\n"
        "• Отключите газ и электричество в доме 🔌\n"
        "• Закройте все окна и двери 🚪\n"
        "• Автомобиль — полный бак, направлен к выезду ⛽\n"
        "• Двигайтесь только в безопасном направлении ✅\n\n"
        
        "🆘 <b>4. ЕСЛИ ЭВАКУИРОВАТЬСЯ НЕВОЗМОЖНО:</b>\n"
        "• Оставайтесь в каменных зданиях 🏢\n"
        "• Закройтесь во внутренних помещениях\n"
        "• Дышите через мокрую ткань 💧\n"
        "• Ждите помощи 👨‍🚒\n\n"
        
        "🚫 <b>5. ЧЕГО НЕЛЬЗЯ ДЕЛАТЬ:</b>\n"
        "• НЕ возвращаться за вещами ↩️\n"
        "• НЕ поддаваться панике 😰\n"
        "• НЕ использовать непроверенные маршруты 🗺️\n"
        "• НЕ оставлять детей и животных без присмотра 👶🐕\n\n"
        "💡 <b>Помните:</b> Заранее подготовленный набор может спасти жизнь!",
        parse_mode='HTML'
    )

@bot.message_handler(commands=['list'])
def send_list(message):
    bot.reply_to(message, 
                 "Команды для определённых случаев: 🚨📋\n"
                 "/burning 🔥 - рассказывает что делать если вы увидели уже разгорающийся пожар 🆘🌲;\n"
                 "/bonfire 🏕️ - рассказывает что делать если вы увидели в лесу не потушенный костер ⚠️🔥;\n"
                 "/garbage 🗑️ - рассказывает что делать если вы увидели как кто-то сжигает мусор в лесу 👀🔥;\n"
                 "/fire_is_nearby 🏠🔥 - рассказывает что делать если пожар приблежается к вашему дому/населенном пункту 🚨👨‍👩‍👧‍👦🆘.\n")

@bot.message_handler(commands=['fire_is_nearby'])
def send_near(message):
    bot.reply_to(message, 
        "🚨 <b>ПОЖАР ПРИБЛИЖАЕТСЯ К ДОМУ/НАСЕЛЕННОМУ ПУНКТУ</b>\n\n"
        "🛡️ <b>Главное правило:</b> Не паникуйте! Четкие действия спасают жизни.\n\n"
        
        "1️⃣ <b>НЕМЕДЛЕННОЕ ОПОВЕЩЕНИЕ</b> 📞\n"
        "• Звоните <b>101</b> или <b>112</b>\n"
        "• Предупредите соседей, особенно пожилых 👵👴\n"
        "• Включите местное радио для информации 📻\n\n"
        
        "2️⃣ <b>ЗАЩИТА ДОМА И УЧАСТКА</b> 🏠\n"
        "• Создайте минерализованную полосу (перекопайте землю вокруг участка) ⚒️\n"
        "• Наполните все ёмкости водой 💧\n"
        "• Уберите газовые баллоны, бензин 🚫🔥\n"
        "• Закройте окна и двери мокрыми тряпками 🪟\n\n"
        
        "3️⃣ <b>ПОДГОТОВКА К ЭВАКУАЦИИ</b> 🎒\n"
        "• <b>«Тревожный чемоданчик»:</b> документы 📄, деньги 💰, лекарства 💊, вода 🫙, фонарик 🔦\n"
        "• Подготовьте животных и детей 🐕👶\n"
        "• Автомобиль поставьте готовым к отъезду, бак полный 🚗⛽\n\n"
        
        "4️⃣ <b>ЕСЛИ ЭВАКУАЦИЯ ОБЪЯВЛЕНА</b> 🚨\n"
        "• <b>Немедленно уезжайте!</b> Не медлите! ⏰\n"
        "• Действуйте по плану эвакуации 📋\n"
        "• Сообщите родным и соседям 📱\n\n"
        
        "5️⃣ <b>ЕСЛИ ЭВАКУИРОВАТЬСЯ ПОЗДНО</b> 🆘\n"
        "• Оставайтесь в каменном здании 🏢\n"
        "• Закройтесь во внутренних помещениях 🚪\n"
        "• Дышите через мокрую ткань, лягте на пол 😷\n"
        "• Ждите помощи 👨‍🚒\n\n"
        
        "🚫 <b>ЧЕГО НЕЛЬЗЯ ДЕЛАТЬ:</b>\n"
        "• <b>НЕ ПАНИКОВАТЬ</b> — это главный враг!\n"
        "• <b>НЕ тратить время</b> на спасение имущества\n"
        "• <b>НЕ пытаться уехать</b> в последний момент сквозь дым\n"
        "• <b>НЕ отпускать детей и животных одних</b>\n\n"
        "💚 <b>Помните:</b> Ваша жизнь — самая большая ценность!",
        parse_mode='HTML'
    )

@bot.message_handler(commands=['bonfire'])
def send_bonfire(message):
    bot.reply_to(message, 
        "🔥 <b>Инструкция: нашел в лесу костер — действуй быстро!</b>\n\n"
        "<b>Главное правило: твоя безопасность — прежде всего!</b> 🛡️ Не геройствуй!\n"
        "———————————————————————\n\n"
        "<b>1. Оцени ситуацию</b> ⚠️\n"
        "• <i>Тлеют угольки или маленький огонек?</i> ✅ — Можешь потушить сам.\n"
        "• <i>Пламя большое и распространяется?</i> 🔥🚨 — <b>Немедленно отойди!</b> Тушить опасно.\n\n"
        "<b>2. Тушим сами (если все спокойно)</b> 💦\n"
        "<i>Цель: сделать кострище холодным!</i>\n"
        "1. <i>Найди воду</i> (бутылка, ручей) или <i>землю/песок</i>.\n"
        "2. <i>Заливай (или засыпай)</i> костер обильно.\n"
        "3. <i>Перемешай палкой</i> и проверь <i>рукой</i> (осторожно!), чтобы нигде не было тепла.\n"
        "4. <i>Убедись, что все остыло!</i> ✅ Ни дыма, ни пара быть не должно.\n\n"
        "<b>3. Не справляешься? Вызываем помощь!</b> 📞\n"
        "1. <b>ЗВОНИ:</b> <code>101</code> или <code>112</code>.\n"
        "2. <b>СКАЖИ:</b> что и где горит (координаты с телефона — идеально! 📍).\n"
        "3. <b>ВСТРЕЧАЙ</b> пожарных, если это безопасно.\n"
        "4. <b>УЙДИ</b> от огня в сторону против ветра.\n"
        "———————————————————————\n\n"
        "🌲 <i>Запомни: всего один непотушенный костер может уничтожить целый лес!</i> 😢\n"
        "🦊 <i>Твой правильный поступок — это спасение природы!</i> 🌍", 
        parse_mode='HTML'
    )

@bot.message_handler(commands=['burning'])
def send_burning(message):
    bot.reply_to(message, 
        "🔥 <b>ЧТО ДЕЛАТЬ, ЕСЛИ УВИДЕЛ ЛЕСНОЙ ПОЖАР?</b>\n\n"
        "🚨 <b>ГЛАВНОЕ ПРАВИЛО: НЕ ГЕРОЙСТВУЙ! Жизнь дороже деревьев.</b>\n\n"
        
        "1️⃣ <b>НЕМЕДЛЕННО ОЦЕНИ И ОТСТУПИ</b> ⚠️\n"
        "• <i>Не приближайся</i>, не пытайся тушить большой огонь сам\n"
        "• <i>Определи направление ветра</i> (по дыму, деревьям)\n"
        "• <i>Уходи перпендикулярно (поперек) направлению ветра</i>\n"
        "• <b>НЕ убегай по ветру</b> — огонь быстрее!\n\n"
        
        "2️⃣ <b>СРОЧНО ВЫЗОВИ ПОМОЩЬ</b> 📞\n"
        "• <b>101</b> или <b>112</b> — Единая служба спасения\n"
        "• <b>Четко скажи:</b>\n"
        "   - <i>Что и где горит?</i> ('лес у деревни X')\n"
        "   - <b>КИНЬ ГЕОЛОКАЦИЮ</b> 📍 — это идеально!\n"
        "   - <i>Примерную площадь</i> ('поляна 100х100м')\n"
        "   - <i>Оставь свой номер</i> для связи\n\n"
        
        "3️⃣ <b>ЕСЛИ ОГОНЬ ОТРЕЗАЛ ПУТЬ</b> 🆘\n"
        "• <i>Иди к водоему</i> (река, озеро) — зайди в воду\n"
        "• <i>Ищи открытые пространства</i>: поляны, выгоревшие участки\n"
        "• <i>Дыши через мокрую ткань</i>, пригнись к земле\n"
        "• <i>Ляг на выгоревшую землю</i>, накройся мокрой одеждой\n\n"
        
        "🚫 <b>ЧЕГО НЕЛЬЗЯ ДЕЛАТЬ:</b>\n"
        "• <b>НЕ ПАНИКУЙ</b> — дыши глубже и действуй по плану\n"
        "• <b>НЕ уходи в глубь леса</b> или чащу\n"
        "• <b>НЕ прячься в оврагах и ямах</b> — там скапливается дым\n"
        "• <b>НЕ пытайся проехать сквозь дым</b> на машине\n\n"
        
        "💡 <b>Помни:</b> Твой своевременный звонок может спасти гектары леса! 🌲❤️",
        parse_mode='HTML'
    )

@bot.message_handler(commands=['garbage'])
def send_garbage(message):
    bot.reply_to(message, 
        "🗑️ <b>УВИДЕЛ, КАК В ЛЕСУ ЖГУТ МУСОР? ДЕЙСТВУЙ!</b>\n\n"
        "⚠️ <b>Главное правило:</b> Не будь равнодушным, но не рискуй собой!\n\n"
        
        "1️⃣ <b>ОЦЕНИ ОПАСНОСТЬ</b>\n"
        "• <i>Огонь под контролем?</i> → Можно попробовать поговорить\n"
        "• <i>Огонь уходит в лес?</i> → Отойди на безопасное расстояние\n"
        "• <i>Люди агрессивны?</i> → Не вступай в конфликт! 🚷\n\n"
        
        "2️⃣ <b>ПОПРОБУЙ ОСТАНОВИТЬ (если безопасно)</b> 🗣️\n"
        "Скажи спокойно:\n"
        "• «Это опасно — огонь перейдет на лес!»\n"
        "• «За это положен большой штраф»\n"
        "• «Дым от пластика — это яд для ваших детей»\n"
        "• «Лучше вывезите мусор на свалку»\n\n"
        
        "3️⃣ <b>ЗАФИКСИРУЙ НАРУШЕНИЕ</b> 📸\n"
        "• Сделай фото/видео (костер, мусор, лица, номера машин)\n"
        "• Отметь геолокацию 📍\n"
        "• Запомни ориентиры\n\n"
        
        "4️⃣ <b>СООБЩИ В СЛУЖБЫ</b> 📞\n"
        "• <b>112</b> или <b>101</b> — Единая служба спасения\n"
        "• <i>Что сказать:</i> «В лесу у [место] жгут мусор, есть угроза пожара»\n"
        "• Дай точный адрес/координаты\n"
        "• Перешли фото при необходимости\n\n"
        
        "5️⃣ <b>ЕСЛИ ОГОНЬ УЖЕ ПЕРЕКИНУЛСЯ НА ЛЕС</b> 🔥\n"
        "• Немедленно отойди!\n"
        "• Звони <b>101</b> и сообщай о <b>ЛЕСНОМ ПОЖАРЕ</b>\n\n"
        
        "🚫 <b>ПОЧЕМУ ЭТО ОПАСНО:</b>\n"
        "• 90% лесных пожаров начинаются с таких костров\n"
        "• Выделяются ядовитые вещества (при горении пластика)\n"
        "• Это нарушение закона — штрафы до сотен тысяч рублей\n\n"
        "💚 <b>Твой звонок — не ябедничество, а спасение леса!</b> 🌲",
        parse_mode='HTML'
    )

@bot.message_handler(commands=['mem'])
def send_mem(message):
    file_list = os.listdir("mems")
    img_name = random.choice(file_list)
    with open(f'mems/{img_name}', 'rb') as f:
        bot.send_photo(message.chat.id, f)

@bot.message_handler(func=lambda message: True)
def echo_all(message):
    bot.reply_to(message, message.text)



# Запускаем бота
bot.remove_webhook()
bot.polling()